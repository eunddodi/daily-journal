# 24-01-26

➕

- SVG Icon 컴포넌트 완성
  - 한 주 안넘기고 마무리 짓기 👍🏻
- 결제 생략 토글을 구현하다가 어려움을 겪었는데, 라이브러리의 작동 방식을 뜯어봄으로써 해결했다.
  - 구현 목표: 특정 조건일 때에 토글을 눌렀음에도 불구하고 토글의 상태가 바뀌지 않아야 한다.
  - 문제: 토글과 연결된(?) state값을 변경하지 않았음에도 불구하고 토글을 누르면 무조건 상태가 바뀐다.
  - 파악한 원인
    - value라는 값을 props로 받기는 하지만, 라이브러리 내부에 토글의 상태가 별도의 state로 관리되고 있었다. 실제 코드를 살펴보니 유저가 토글을 누르면 무조건 내부 state를 변경하도록 되어 있었다.
    - value의 값이 변경되면 내부 state에 그 값이 반영되기는 한다. (useEffect 이용해서) 그러나 이 구현사항의 경우 value값이 변경되지 않는다. 따라서 이미 변경된 내부 state를 외부 state에 맞게 동기화시킬 수가 없다. 리렌더링이 발생하지 않는 한.
  - 해결한 방법
    - disabled 옵션을 활용해 아예 눌리지 않게끔 만들 수밖에 없다는 결론. 토글의 상태가 외부 state(내가 정의한 state)와 완벽히 동기화되면 좋겠지만, 유저가 토글을 눌렀을 때 무조건 내부 state를 변경하는 로직을 내가 들어낼 수가 없었음.
  - 감으로 해결하지 않고 라이브러리를 뜯어봄으로써 올바른 결정을 내릴 수 있었다. 토글 구현은 늘 부담스럽고 어려운 기분이었는데 두려움이 사라졌다.
  - 상태가 바뀌지 않으면 리렌더링이 발생하지 않는다는 사실을 useEffect에 로그를 찍어보며 직접 확인했던 것 👍🏻

➖

- 금요일 재택 야근은 mentally 쉽지 않다. 오피스 금요일 야근은 괜찮았는데 말이다. 그럼에도 명확한 목표치와 저널, 체크인이 있으니 생산성이 떨어지진 않았다.
